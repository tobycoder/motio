{% extends 'base.html' %}
{% block content %}
  <style>
    /* Precisie voor print */
    @page { size: A4; margin: 12mm; }
    /* Schermweergave: forceer A4-verhouding en maat */
    .a4 {
      width: 210mm;              /* A4 breedte */
      min-height: 297mm;         /* A4 hoogte */
    }
    /* Voorkom dat lijsten/paragraphs onhandig door pagina's breken */
    .avoid-break { break-inside: avoid; page-break-inside: avoid; }
  </style>
  <div class="sticky top-0 z-10 bg-white/80 backdrop-blur border-b print:hidden">
    <div class="mx-auto max-w-5xl px-4 py-2 flex items-center justify-between">
      <div class="text-sm text-gray-600">Motie {{ motie.titel }}</div>
      <div class="inline-flex rounded-md shadow-xs" role="group">
        <a href="{{ url_for('moties.index') }}" type="button" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-s-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
          Terug naar overzicht
        </a>
        <a href="{{ url_for('moties.bewerken', motie_id=motie.id) }}" type="button" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
          Bewerk motie
        </a>
        <a href="{{ url_for('moties.verwijderen', motie_id=motie.id) }}" type="button" class="px-4 py-2 text-sm font-medium text-white bg-red-500 border border-gray-200 rounded-e-lg hover:bg-red-900 hover:text-white-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
          Verwijder motie
        </a>
      </div>
    </div>
  </div>

  <!-- Canvas: centreer A4 op het scherm -->
  <main class="min-h-screen py-8 px-4 flex items-start justify-center print:p-0">
    <article
      class="a4 bg-white shadow-2xl ring-1 ring-black/5 rounded-none print:shadow-none print:ring-0 print:w-auto print:min-h-0
             px-12 py-14 leading-relaxed text-[11pt] text-gray-900">
      <!-- Kop -->
      <header class="text-center mb-8">
        <h1 class="text-xl font-semibold tracking-tight">Motie</h1>
        <p class="text-sm text-gray-600 mt-1">
          Gemeenteraad {{ motie.titel or "—" }}
        </p>
      </header>

      <!-- Titel motie -->
      <section class="mb-6 avoid-break">
        <p class="text-[11pt]">Deze motie hoort bij agendapunt {{ motie.agendapunt or "—" }}, ingediend bij de raadsvergadering van {{ motie.gemeenteraad_datum }}</p>
        <p class="text-[11pt]">De indieners stellen de raad voor om het volgende besluit te nemen:</p>
      </section>

      <!-- Constaterende dat -->
      <section class="mb-6 avoid-break">
        <h2 class="text-base font-semibold mb-1">We stellen vast dat:</h2>
        <ul class="list-disc pl-6 space-y-1">
          {# Als je als JSON-string opslaat: json.loads in de view en hier direct itereren #}
          {% for punt in motie.constaterende_dat %}
            <li>{{ punt }}</li>
          {% else %}
            <li class="text-gray-500">—</li>
          {% endfor %}
        </ul>
      </section>

      <!-- Overwegende dat -->
      <section class="mb-6 avoid-break">
        <h2 class="text-base font-semibold mb-1">We overwegen dat:</h2>
        <ul class="list-disc pl-6 space-y-1">
          {% for punt in motie.overwegende_dat %}
            <li>{{ punt }}</li>
          {% else %}
            <li class="text-gray-500">—</li>
          {% endfor %}
        </ul>
      </section>

      <!-- Draagt het college op -->
      <section class="mb-8 avoid-break">
        <h2 class="text-base font-semibold mb-1">{{ motie.opdracht_formulering }}:</h2>
        <ul class="list-disc pl-6 space-y-1">
          {% for punt in motie.draagt_college_op %}
            <li>{{ punt }}</li>
          {% else %}
            <li class="text-gray-500">—</li>
          {% endfor %}
        </ul>
      </section>
      <section class="mb-6 avoid-break">
        <p class="text-[11pt]">En gaat over tot de orde van de dag</p>
      </section>

      <!-- Ondertekening -->
         <!-- Voet -->
      <footer class="mt-12 pt-4 text-[10pt] text-gray-500 border-t border-gray-200">
        <div class="flex items-center justify-between self-end">
          <span>Raadsvergadering: {{ motie.gemeenteraad_datum or "Niet gepland" }} </span>
          <span>Conceptstatus: {{ motie.status or "Concept" }}</span>
        </div>
      </footer>
    </article>
  </main>
{% endblock %}

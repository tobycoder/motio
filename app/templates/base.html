<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="color-scheme" content="light dark">
        <title>{% block title %}Motio{% endblock %}</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
        <!-- Tailwind via CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
                <style>
                /* Tailwind-achtige look via extra class op de container */
                .custom-choices .choices__inner {
                    border: 1px solid #d1d5db; border-radius: .5rem; padding: .375rem .5rem; min-height: 2.5rem; background:#f9fafb;
                }
                .custom-choices.is-focused .choices__inner,
                .custom-choices.is-open .choices__inner {
                    border-color:#3b82f6; box-shadow:0 0 0 3px rgb(59 130 246 / .5); background:#fff;
                }
                .custom-choices .choices__list--multiple .choices__item {
                    background:#e5e7eb; color:#111827; border:1px solid #d1d5db; border-radius:.375rem; margin:.25rem; padding:.125rem .5rem;
                }
                .custom-choices .choices__button { border-left:1px solid #9ca3af; }
                .custom-choices .choices__list--dropdown { border:1px solid #d1d5db; border-radius:.5rem; }
                .custom-choices .choices__list--dropdown .choices__item--selectable.is-highlighted {
                    background:#eff6ff; color:#1f2937;
                }
                </style>
        <script>
            // Optionele config (kleuren, container, fonts, safelist, dark mode, etc.)
            tailwind.config = {
            darkMode: 'class',
            theme: {
                container: { center: true, padding: '1rem' },
                extend: {
                colors: {
                    brand: {
                    DEFAULT: '#0ea5e9',
                    dark: '#0369a1'
                    }
                },
                fontFamily: {
                    sans: ['Inter', 'ui-sans-serif', 'system-ui', 'Segoe UI', 'Roboto', 'Arial', 'sans-serif']
                }
                }
            },
            safelist: [
                // classes die je dynamisch toevoegt vanuit Flask/Jinja
                'text-green-600','text-red-600','bg-yellow-100','bg-green-100','bg-red-100'
            ]
            }
        </script>
        <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

    </head>
    <body>
<div class="fixed top-0 left-0 w-full z-50 bg-white border-b backdrop-blur-lg bg-opacity-80">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-4 ">
        <div class="relative flex h-16 justify-between">
            <div class="flex flex-1 items-stretch justify-start">
                <a class="flex flex-shrink-0 items-center" href="#">
                    <img class="block h-10 w-auto" src="/static/img/favicon.png" >
                </a>
            </div>
            <div class="flex-shrink-0 flex px-2 py-3 items-center space-x-8">
                <a class="text-gray-700 hover:text-indigo-700 text-sm font-medium" href="{{ url_for('dashboard.home') }}">Dashboard</a>
                <a class="text-gray-700 hover:text-indigo-700 text-sm font-medium" href="{{ url_for('moties.index') }}">Moties</a>
                <a class="text-gray-700 hover:text-indigo-700 text-sm font-medium" href="{{ url_for('amendementen.index') }}">Amendementen</a>
                <a class="text-gray-700 hover:text-indigo-700 text-sm font-medium" href="{{ url_for('partijen.index') }}">Partijen</a>
                <a class="text-gray-800 bg-indigo-100 hover:bg-indigo-200 inline-flex items-center justify-center px-3 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm "
                    href="{{ url_for('auth.logout') }}">Logout
                </a>
            </div>
        </div>
    </div>
</div>
      <div class="relative">
<div class="container mt-20">
         {% with messages = get_flashed_messages(with_categories=True) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="
                p-4 mb-4 rounded-lg border
                {% if category == 'success' %} text-green-800 border-green-300 bg-green-50
                {% elif category in ['error','danger'] %} text-red-800 border-red-300 bg-red-50
                {% elif category == 'warning' %} text-yellow-800 border-yellow-300 bg-yellow-50
                {% else %} text-gray-800 border-gray-300 bg-gray-50
                {% endif %}
              ">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}
        {% block content %}{% endblock %} 
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js" defer></script>
<script>
  function initChoices(selector = '.choices-multi') {
    const nodes = document.querySelectorAll(selector);
    nodes.forEach((el) => {
      if (!el || el.dataset.choicesInit === '1') return;

      // Init Choices (let op: geen spaties in classNames -> 1 token!)
      const instance = new Choices(el, {
        removeItemButton: true,
        searchEnabled: true,
        shouldSort: false,
        placeholder: true,
        placeholderValue: el.dataset.placeholder || 'Kies…',
        itemSelectText: 'Klik om te selecteren',
        noResultsText: 'Geen resultaten',
        noChoicesText: 'Geen opties',
        classNames: {
          containerOuter: 'choices' // laat default staan; geen extra class met spatie!
        }
      });

      // Voeg onze extra styling-class apart toe (nu mag dat wél)
      try { instance.containerOuter.element.classList.add('custom-choices'); } catch (e) {}

      el.dataset.choicesInit = '1';
      el._choices = instance;
    });
  }

  // Veilig initialiseren (element kan ontbreken → geen error)
  document.addEventListener('DOMContentLoaded', () => initChoices());

  // Als je htmx/Turbo/nav gebruikt en content wisselt:
  document.addEventListener('htmx:afterSwap', () => initChoices());
</script>
    </body>
    </html> 
